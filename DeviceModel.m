////  DeviceModel.m//  security////  Created by sen5labs on 15/10/13.//  Copyright © 2015年 sen5. All rights reserved.//#import "DeviceModel.h"#import "fileOperation.h"@implementation DeviceModel-(id)initWithDictionary:(NSDictionary *)dic{    self = [super init];    if (self) {                self.dev_id = [dic[@"dev_id"] integerValue];        self.dev_type = dic[@"dev_type"];        self.mode = [dic[@"mode"] integerValue];//0 为 sensor  1 为 control                if ([dic.allKeys containsObject:@"name"]) {                    if ([dic[@"name"] isEqualToString:@"_"]) {            self.name = [[fileOperation sharedOperation] getDeviceNameWithDevice_type:self.dev_type];                        if ([dic[@"dev_type"] isEqualToString:@"B000000000002"]) {                self.name = @"IP Camera";            }        }else        {            self.name = [dic[@"name"] stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];        }                    }else        {            // 添加设备时没有名字 给予默认名字             self.name = [[fileOperation sharedOperation] getDeviceNameWithDevice_type:self.dev_type];        }                //when you add one new device you can not get the update_time and status        if ([dic.allKeys containsObject:@"status"]) {                        self.status = dic[@"status"];                   }                if ([dic.allKeys containsObject:@"update_time"]) {                        self.update_time = [dic[@"update_time"] integerValue];       }               if ([dic.allKeys containsObject:@"room_id"]) {            self.room_id = [dic[@"room_id"] integerValue];       }                if ([dic.allKeys containsObject:@"sec_away"]) {            //when you get the sec_away the sec_stay and others exist            self.sec_away = [dic[@"sec_away"] integerValue];            self.sec_away = [dic[@"sec_stay"] integerValue];            self.sec_away = [dic[@"sec_disarm"] integerValue];        }            }    return self;}- (NSString *)description{    return [NSString stringWithFormat:@"id %ld table %ld type %@ mode %ld name %@ updata %ld status %@", _dev_id ,_table_id,_dev_type,_mode,_name,_update_time,_status];}@end