////  cameraCell.m//  security2.0////  Created by Sen5 on 16/3/24.//  Copyright © 2016年 com.letianxia. All rights reserved.//#import "cameraCell.h"#import "cameraModel.h"#import "Masonry.h"#import "prefrenceHeader.h"#import "DeviceModel.h"#import "ViewController.h"@interface cameraCell()@property(nonatomic,strong)UIButton *playBtn;@property(nonatomic,strong)UIButton *fullBtn;@property(nonatomic,strong)UIButton *nameBtn;//@property(nonatomic,strong)UIActivityIndicatorView *indicator;@property(nonatomic,weak)UIImageView *imgView;@property (nonatomic, strong) UITapGestureRecognizer *fullViewTapGest;@property (nonatomic,assign) BOOL isRotation;@property (nonatomic, strong) PlayImageView *playImageView;@end@implementation cameraCell-(instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier{    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];        if (self) {                self.selectionStyle = UITableViewCellSelectionStyleNone;        self.backgroundColor = [UIColor blackColor];    }    return self;}-(instancetype )initWithFrame:(CGRect)frame camera:(DeviceModel *)camera{    self = [super initWithFrame:frame]    ;    if (self) {                self.selectionStyle = UITableViewCellSelectionStyleNone;        self.backgroundColor = [UIColor blackColor];            }        return self;}-(void)layoutSubviews{    __weak __typeof(self)wSelf = self;    CGFloat height = CGRectGetHeight(self.frame);        [_playBtn mas_makeConstraints:^(MASConstraintMaker *make) {        __strong __typeof(wSelf)sSelf = wSelf;        make.center.equalTo(sSelf.contentView);;        make.size.mas_equalTo(CGSizeMake(height/4.0, height/4.0));    }];        [_fullBtn mas_makeConstraints:^(MASConstraintMaker *make) {        make.right.bottom.equalTo(@(0));        make.size.mas_equalTo(CGSizeMake(50, 50));    }];            [_nameBtn mas_makeConstraints:^(MASConstraintMaker *make) {        __strong __typeof(wSelf)sSelf = wSelf;        make.right.equalTo(sSelf.fullBtn.mas_left).offset(-5);        make.bottom.equalTo(@(-5));        make.size.mas_equalTo(CGSizeMake(70, 40));    }];        }#pragma mark - mark - crateSubviews-(void )createControlViews{    _playBtn = [UIButton buttonWithType:UIButtonTypeCustom];    [_playBtn setImage:[UIImage imageNamed:@"btn_start_nor_"] forState:UIControlStateNormal];    [_playBtn setImage:[UIImage imageNamed:@"btn_start_pre_"] forState:UIControlStateHighlighted];    [_playBtn addTarget:self action:@selector(playBtnClick) forControlEvents:UIControlEventTouchUpInside];    [self.contentView addSubview:_playBtn];        _fullBtn = [UIButton buttonWithType:UIButtonTypeCustom];        [_fullBtn setImage:[UIImage imageNamed:@"btn_Full-screen_normal_"] forState:UIControlStateNormal];    [_fullBtn setImage:[UIImage imageNamed:@"btn_Full-screen_pressedl_"] forState:UIControlStateHighlighted];    [_fullBtn addTarget:self action:@selector(fullBtnClick) forControlEvents:UIControlEventTouchUpInside];    [self.contentView addSubview:_fullBtn];        _nameBtn = [UIButton buttonWithType:UIButtonTypeCustom];    _nameBtn.titleLabel.lineBreakMode = NSLineBreakByTruncatingTail;        _nameBtn.titleLabel.font = [UIFont systemFontOfSize:12];        [self.contentView addSubview:_nameBtn];    }#pragma mark - refresh UI-(void )refreshUIWithModel:(DeviceModel *)mod{        [_nameBtn setTitle:mod.name forState:UIControlStateNormal];}- (void)pause {      [_playBtn setHidden:NO];  }- (void)startPlay {      [_playBtn setHidden:YES];}#pragma mark - click event -(void )playBtnClick{   [_delegate playBtnClick:self];}-(void )fullBtnClick{    [_delegate fullBtnClick:self];}- (void)setSelected:(BOOL)selected animated:(BOOL)animated {    [super setSelected:selected animated:animated];        // Configure the view for the selected state}@end