////  sceneViewCell.m//  security2.0////  Created by Sen5 on 16/6/28.//  Copyright © 2016年 com.letianxia. All rights reserved.//#import "sceneViewCell.h"#import "sceneModel.h"#import "Masonry.h"#import "prefrenceHeader.h"@implementation sceneViewCell{    CGSize _imageSize;    BOOL _isDeleted;    UIButton *_select;}-(instancetype)initWithFrame:(CGRect)frame{    self = [super initWithFrame:frame];    if (self) {        UIImageView *imgView = [[UIImageView alloc]init];        [self.contentView addSubview:imgView];        self.imgView = imgView;                        UILabel *lab = [[UILabel alloc]init];        lab.textColor = kLightTitleColor;        lab.textAlignment = NSTextAlignmentCenter;        lab.font = [UIFont systemFontOfSize:15];        [self.contentView addSubview:lab];        self.lab = lab;                self.contentView.backgroundColor = [UIColor whiteColor];    }        return self;}-(void)layoutSubviews{    __weak __typeof(self)wSelf = self;    [self.imgView mas_makeConstraints:^(MASConstraintMaker *make) {        __strong __typeof(wSelf)sSelf = wSelf;        make.centerX.equalTo(sSelf.contentView.mas_centerX);        make.centerY.equalTo(sSelf.contentView.mas_centerY).multipliedBy(0.7);        make.height.equalTo(sSelf.contentView.mas_height).multipliedBy(0.5);        make.width.equalTo(sSelf.contentView.mas_height).multipliedBy(0.5);    }];        [self.lab mas_makeConstraints:^(MASConstraintMaker *make) {        __strong __typeof(wSelf)sSelf = wSelf;        make.centerX.equalTo(sSelf.contentView.mas_centerX);        make.top.equalTo(sSelf.imgView.mas_bottom).offset(10);        make.width.equalTo(sSelf.contentView.mas_width).multipliedBy(0.7);        make.height.mas_equalTo(20);    }];    [self setLabConfigure];    // 切圆    [self layoutIfNeeded];    self.imgView.layer.cornerRadius = CGRectGetHeight(self.imgView.frame)/2.0f;    self.imgView.clipsToBounds = YES;    }-(void)setLabConfigure{    }-(void)refreshUIWithModel:(sceneModel *)model{    if (model == nil) {        self.imgView = nil;        self.lab = nil;    }else{                //self.imgView.image = [UIImage imageNamed:@"ic_default_scene_nor"];        self.imgView.image = model.scene_image;        self.lab.text = [model.scene_name stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];    }    }-(void)setEditing:(BOOL )isEditing{    if (isEditing) {                UIButton *select = [UIButton buttonWithType:UIButtonTypeCustom];                [select setBackgroundImage:[UIImage imageNamed:@"ic_smoke_nowork_device_"] forState:UIControlStateNormal];                [select setBackgroundImage:[UIImage imageNamed:@"ic_smoke_danger_device_"] forState:UIControlStateSelected];        [self addSubview:select];        _select = select;                [select addTarget:self action:@selector(btnClick:) forControlEvents:UIControlEventTouchUpInside];        [select mas_makeConstraints:^(MASConstraintMaker *make) {            make.top.mas_equalTo(10);            make.right.mas_equalTo(10);            make.width.height.mas_equalTo(30);        }];    }else    {        [_select removeFromSuperview];        _select = nil;    }}-(BOOL )getEditing{    return NO;}-(void)btnClick:(UIButton *)btn{    btn.selected = ! btn.selected;    if (btn.selected) {        _isDeleted = YES;    }else    {        _isDeleted = NO;    }}-(BOOL)getDeleted{    return _isDeleted;}@end